/*

	Supersized - Fullscreen Slideshow jQuery Plugin
	Version : Core 3.2.2
	Site	: www.buildinternet.com/project/supersized
	
	Author	: Sam Dunn
	Company : One Mighty Roar (www.onemightyroar.com)
	License : MIT License / GPL License
	
*/

(function(e){e(document).ready(function(){e("body").append('<div id="supersized-loader"></div><div id="supersized"></div>')});e.supersized=function(t){var n="#supersized",r=this;r.$el=e(n);r.el=n;vars=e.supersized.vars;r.$el.data("supersized",r);api=r.$el.data("supersized");r.init=function(){e.supersized.vars.options=e.extend({},e.supersized.defaultOptions,t);r.options=e.supersized.vars.options;r._build()};r._build=function(){r._start()};r._start=function(){if(r.options.start_slide){vars.current_slide=r.options.start_slide-1}else{vars.current_slide=Math.floor(Math.random()*r.options.slides.length)}var t=r.options.new_window?' target="_blank"':"";imageLink=api.getField("url")?"href='"+api.getField("url")+"'":"";var n=e('<img src="'+api.getField("image")+'"/>');n.appendTo(r.el).wrap('<a class="image-loading activeslide" '+imageLink+t+"></a>").css("visibility","hidden");n.load(function(){r._origDim(e(this));r.resizeNow();r.launch()});r.$el.css("visibility","hidden")};r.launch=function(){r.$el.css("visibility","visible");e("#supersized-loader").hide();e(window).bind("orientationchange",function(){r.resizeNow()});e(window).resize(function(){r.resizeNow()})};r.resizeNow=function(){return r.$el.each(function(){e("img",r.el).each(function(){function o(e){if(e){if(thisSlide.width()<n||thisSlide.width()<r.options.min_width){if(thisSlide.width()*t>=r.options.min_height){thisSlide.width(r.options.min_width);thisSlide.height(thisSlide.width()*t)}else{u()}}}else{if(r.options.min_height>=i&&!r.options.fit_landscape){if(n*t>=r.options.min_height||n*t>=r.options.min_height&&t<=1){thisSlide.width(n);thisSlide.height(n*t)}else if(t>1){thisSlide.height(r.options.min_height);thisSlide.width(thisSlide.height()/t)}else if(thisSlide.width()<n){thisSlide.width(n);thisSlide.height(thisSlide.width()*t)}}else{thisSlide.width(n);thisSlide.height(n*t)}}}function u(e){if(e){if(thisSlide.height()<i){if(thisSlide.height()/t>=r.options.min_width){thisSlide.height(r.options.min_height);thisSlide.width(thisSlide.height()/t)}else{o(true)}}}else{if(r.options.min_width>=n){if(i/t>=r.options.min_width||t>1){thisSlide.height(i);thisSlide.width(i/t)}else if(t<=1){thisSlide.width(r.options.min_width);thisSlide.height(thisSlide.width()*t)}}else{thisSlide.height(i);thisSlide.width(i/t)}}}thisSlide=e(this);var t=(thisSlide.data("origHeight")/thisSlide.data("origWidth")).toFixed(2);var n=r.$el.width(),i=r.$el.height(),s;if(r.options.fit_always){if(i/n>t){o()}else{u()}}else{if(i<=r.options.min_height&&n<=r.options.min_width){if(i/n>t){r.options.fit_landscape&&t<1?o(true):u(true)}else{r.options.fit_portrait&&t>=1?u(true):o(true)}}else if(n<=r.options.min_width){if(i/n>t){r.options.fit_landscape&&t<1?o(true):u()}else{r.options.fit_portrait&&t>=1?u():o(true)}}else if(i<=r.options.min_height){if(i/n>t){r.options.fit_landscape&&t<1?o():u(true)}else{r.options.fit_portrait&&t>=1?u(true):o()}}else{if(i/n>t){r.options.fit_landscape&&t<1?o():u()}else{r.options.fit_portrait&&t>=1?u():o()}}}if(thisSlide.parent().hasClass("image-loading")){e(".image-loading").removeClass("image-loading")}if(r.options.horizontal_center){e(this).css("left",(n-e(this).width())/2)}if(r.options.vertical_center){e(this).css("top",(i-e(this).height())/2)}});if(r.options.image_protect){e("img",r.el).bind("contextmenu mousedown",function(){return false})}return false})};r._origDim=function(e){e.data("origWidth",e.width()).data("origHeight",e.height()).css("visibility","visible")};r.getField=function(e){return r.options.slides[vars.current_slide][e]};r.init()};e.supersized.vars={current_slide:0,options:{}};e.supersized.defaultOptions={start_slide:1,new_window:1,image_protect:1,min_width:0,min_height:0,vertical_center:1,horizontal_center:1,fit_always:0,fit_portrait:1,fit_landscape:0};e.fn.supersized=function(t){return this.each(function(){new e.supersized(t)})}})(jQuery)